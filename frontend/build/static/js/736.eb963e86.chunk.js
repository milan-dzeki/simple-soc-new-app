"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[736],{1736:function(t,n,e){e.r(n);var o=e(4165),l=e(5861),s=e(9439),u=e(2791),c=e(7689),r=e(3810),m=e(7753),i=e(4079),d=e(5155),a=e(5582),p=e(184);n.default=function(){var t=(0,c.UO)().postId,n=(0,r.k)(),e=n.postsLoading,f=n.postsErrorMsg,I=n.postToDeleteId,k=n.posts,C=n.onClearPostsError,P=n.onGetPosts,b=n.onPrepareDeletePost,x=n.onCancelDeletePost,h=n.onDeletePost,y=n.onLikePost,T=n.onUnlikePost,Z=n.onCommentOnPost,j=n.onDeletePostComment,w=n.onLikePostComment,g=n.onUnlikePostComment,E=(0,c.TH)(),D=(0,u.useState)(null),_=(0,s.Z)(D,2),L=_[0],S=_[1],U=(0,u.useState)({postId:null,commentId:null}),v=(0,s.Z)(U,2),M=v[0],O=v[1],A=(0,u.useState)(null),z=(0,s.Z)(A,2),F=z[0],G=z[1];(0,u.useEffect)((function(){E.state&&E.state.commentId&&G(E.state.commentId)}),[E.state]),(0,u.useEffect)((function(){return function(){window.history.replaceState({},document.title)}}),[]),(0,u.useEffect)((function(){t?P("".concat(t)):S("Post not found")}),[t,P]);var H=(0,u.useCallback)((function(){S(null)}),[]),N=(0,u.useCallback)((function(){O({postId:null,commentId:null})}),[]),q=(0,u.useCallback)((function(t,n){O({postId:t,commentId:n})}),[]),B=(0,u.useCallback)((0,l.Z)((0,o.Z)().mark((function t(){return(0,o.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!M.postId||!M.commentId){t.next=6;break}return t.next=3,j(M.postId,M.commentId);case 3:N(),t.next=7;break;case 6:S("Post id not found");case 7:case"end":return t.stop()}}),t)}))),[M.commentId,M.postId,N,j]);return(0,p.jsxs)(p.Fragment,{children:[(null!==L||null!==f)&&(0,p.jsx)(d.default,{show:null!==L||null!==f,isErrorModal:!0,title:"Error occured",text:L||(f||"Error unknown"),onClose:L?H:f?C:function(){},children:(0,p.jsx)(a.Z,{btnType:"button",btnCustomType:"btn__ok",btnText:"ok",onClick:L?H:f?C:function(){}})}),(null!==M.postId&&null!==M.commentId||null!==I)&&(0,p.jsxs)(d.default,{show:null!==M.postId&&null!==M.commentId||null!==I,isErrorModal:!1,title:"Prepairing to delete comment",text:"Are you sure you want to delete this post's comment?",onClose:null!==M.postId&&null!==M.commentId?N:null!==I?x:function(){},children:[(0,p.jsx)(a.Z,{btnType:"button",btnCustomType:"btn__cancel",btnText:"cancel",onClick:null!==M.postId&&null!==M.commentId?N:null!==I?x:function(){}}),(0,p.jsx)(a.Z,{btnType:"button",btnCustomType:"btn__confirm",btnText:"delete",onClick:null!==M.postId&&null!==M.commentId?B:null!==I?h:function(){}})]}),(0,p.jsx)("main",{style:{margin:"2rem 0"},children:e?(0,p.jsx)(i.Z,{}):null===k||0===k.length?(0,p.jsx)("p",{style:{textAlign:"center",fontSize:"2rem"},children:"No post found"}):(0,p.jsx)(m.Z,{post:k[0],highlightedCommentId:F,onCommentOnPost:Z,onLikePost:y,onUnlikePost:T,onLikePostComment:w,onUnlikePostComment:g,onPrepareDeletePostComment:q,onPrepareDeletePost:b})})]})}}}]);
//# sourceMappingURL=736.eb963e86.chunk.js.map