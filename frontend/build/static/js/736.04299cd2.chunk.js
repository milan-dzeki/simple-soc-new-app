"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[736],{1736:function(t,n,o){o.r(n);var e=o(4165),l=o(5861),s=o(9439),u=o(2791),c=o(7689),d=o(3810),r=o(7753),i=o(4079),a=o(5155),m=o(5582),p=o(4433),f=o(184);n.default=function(){var t=(0,c.UO)().postId,n=(0,d.k)(),o=n.postsLoading,I=n.postsErrorMsg,h=n.postToDeleteId,P=n.posts,k=n.onClearPostsError,C=n.onGetPosts,x=n.onPrepareDeletePost,b=n.onCancelDeletePost,y=n.onDeletePost,Z=n.onLikePost,g=n.onUnlikePost,j=n.onCommentOnPost,w=n.onDeletePostComment,T=n.onLikePostComment,E=n.onUnlikePostComment,D=(0,c.TH)(),S=(0,u.useState)(null),_=(0,s.Z)(S,2),v=_[0],L=_[1],U=(0,u.useState)({postId:null,photos:[],displayedPhotoIndex:0}),O=(0,s.Z)(U,2),M=O[0],A=O[1],z=(0,u.useState)({postId:null,commentId:null}),F=(0,s.Z)(z,2),G=F[0],H=F[1],N=(0,u.useState)(null),q=(0,s.Z)(N,2),B=q[0],J=q[1];(0,u.useEffect)((function(){D.state&&D.state.commentId&&J(D.state.commentId)}),[D.state]),(0,u.useEffect)((function(){return function(){window.history.replaceState({},document.title)}}),[]),(0,u.useEffect)((function(){t?C("".concat(t)):L("Post not found")}),[t,C]);var K=(0,u.useCallback)((function(){L(null)}),[]),Q=(0,u.useCallback)((function(){H({postId:null,commentId:null})}),[]),R=(0,u.useCallback)((function(t,n){H({postId:t,commentId:n})}),[]),V=(0,u.useCallback)((0,l.Z)((0,e.Z)().mark((function t(){return(0,e.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!G.postId||!G.commentId){t.next=6;break}return t.next=3,w(G.postId,G.commentId);case 3:Q(),t.next=7;break;case 6:L("Post id not found");case 7:case"end":return t.stop()}}),t)}))),[G.commentId,G.postId,Q,w]),W=(0,u.useCallback)((function(t,n,o){var e=n.map((function(t){return t.photo.secure_url}));A({postId:t,photos:e,displayedPhotoIndex:o})}),[]);return(0,f.jsxs)(f.Fragment,{children:[null!==M.postId&&M.photos.length>0&&(0,f.jsx)(p.Z,{show:null!==M.postId&&M.photos.length>0,onClose:function(){A({postId:null,photos:[],displayedPhotoIndex:0})},photos:M.photos,displayedPhotoIndex:M.displayedPhotoIndex}),(null!==v||null!==I)&&(0,f.jsx)(a.default,{show:null!==v||null!==I,isErrorModal:!0,title:"Error occured",text:v||(I||"Error unknown"),onClose:v?K:I?k:function(){},children:(0,f.jsx)(m.Z,{btnType:"button",btnCustomType:"btn__ok",btnText:"ok",onClick:v?K:I?k:function(){}})}),(null!==G.postId&&null!==G.commentId||null!==h)&&(0,f.jsxs)(a.default,{show:null!==G.postId&&null!==G.commentId||null!==h,isErrorModal:!1,title:"Prepairing to delete comment",text:"Are you sure you want to delete this post's comment?",onClose:null!==G.postId&&null!==G.commentId?Q:null!==h?b:function(){},children:[(0,f.jsx)(m.Z,{btnType:"button",btnCustomType:"btn__cancel",btnText:"cancel",onClick:null!==G.postId&&null!==G.commentId?Q:null!==h?b:function(){}}),(0,f.jsx)(m.Z,{btnType:"button",btnCustomType:"btn__confirm",btnText:"delete",onClick:null!==G.postId&&null!==G.commentId?V:null!==h?y:function(){}})]}),(0,f.jsx)("main",{style:{margin:"2rem 0"},children:o?(0,f.jsx)(i.Z,{}):null===P||0===P.length?(0,f.jsx)("p",{style:{textAlign:"center",fontSize:"2rem"},children:"No post found"}):(0,f.jsx)(r.Z,{post:P[0],highlightedCommentId:B,onCommentOnPost:j,onLikePost:Z,onUnlikePost:g,onLikePostComment:T,onUnlikePostComment:E,onPrepareDeletePostComment:R,onPrepareDeletePost:x,onOpenPostPhotoSlider:W})})]})}}}]);
//# sourceMappingURL=736.04299cd2.chunk.js.map