"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[656],{2942:function(e,n,t){t.d(n,{Z:function(){return r}});var o={container:"pageContainer_container__JU78m",container__flex:"pageContainer_container__flex__mQNaW",container__data:"pageContainer_container__data__70LWJ",big:"pageContainer_big__iMyUq"},s={title:"pageTitle_title__Di7Rk",title__text:"pageTitle_title__text__jkIUE",title__underline:"pageTitle_title__underline__A2NOq"},a=t(184),i=function(e){return(0,a.jsxs)("div",{className:"".concat(s.title," ").concat(s[e.textAlign]),children:[(0,a.jsx)("h1",{className:s.title__text,children:e.titleText}),(0,a.jsx)("div",{className:s.title__underline})]})},r=function(e){return(0,a.jsxs)("main",{className:"".concat(o.container," ").concat(o[e.display]," ").concat(o[e.width]),children:[e.hasPageTitle&&e.titleText&&e.titleTextAlign&&(0,a.jsx)(i,{titleText:e.titleText,textAlign:e.titleTextAlign}),(0,a.jsx)("section",{className:o.container__data,children:e.children})]})}},4656:function(e,n,t){t.r(n),t.d(n,{default:function(){return ce}});var o=t(4942),s=t(4165),a=t(1413),i=t(5861),r=t(9439),l=t(2791),c=t(1243),u=t(8006),d=c.Z.create({baseURL:"".concat(u.Z,"/settings")}),h=t(1725),_=t(1573),p=t(4466),f=t(2942),x="settingsBox_box__yPoep",m="settingsBox_box__title__HCctz",g="settingsBox_box__data__76seS",b="singleSetting_setting__mJYRx",v="singleSetting_setting__name__1sf2f",y=t(8668),V="settingsSelectInput_input__8Tf+-",w="settingsSelectInput_input__icon__5ZiZ2",k="settingsSelectInput_input__input__5lCmW",j="settingsSelectInput_input__options__J2V5B",S="settingsSelectInput_input__opt__B5-gC",C=t(184),Z=function(e){return(0,C.jsxs)("div",{className:V,children:[(0,C.jsxs)("div",{className:k,onClick:e.onShowSettingsOptions,children:[(0,C.jsx)("input",{type:"text",readOnly:!0,value:e.value}),(0,C.jsx)("div",{className:w,children:(0,C.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 1024 1024",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:(0,C.jsx)("path",{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"})})})]}),e.show&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(y.Z,{show:e.show,bcgColor:"transparent",onClose:e.onHideSettingsOptions}),(0,C.jsx)("div",{className:j,children:e.options.map((function(n){return(0,C.jsx)("p",{className:S,onClick:function(){return e.onEditSetting(n.dbValue)},children:n.usedValue},n.dbValue)}))})]})]})},N=function(e){return(0,C.jsxs)("div",{className:b,children:[(0,C.jsx)("p",{className:v,children:(n=e.settingKey,"whoCanAddMe"===n?"Who can add send me friend request":"whoCanMessageMe"===n?"Who can message me":"whoCanCommentMyPhotos"===n?"Who can comment my photos":"whoCanCommentMyPosts"===n?"Who can comment my posts":"whoCanLikeMyPhotos"===n?"Who can like my photos":"whoCanLikeMyPosts"===n?"Who can like my posts":"whoCanSeeMyFriendsList"===n?"Who can see my friend list":"whoCanSeeMyPhotos"===n?"Who can see my photos":"whoCanSeeMyPosts"===n?"Who can see my posts":"whoCanSeeMyProfileInfo"===n?"Who can see my profile info":n)}),(0,C.jsx)(Z,{show:e.optionsShow,value:e.settingValue,options:e.settingOptions,onShowSettingsOptions:e.onShowSettingsOptions,onHideSettingsOptions:e.onHideSettingsOptions,onEditSetting:e.onEditSetting})]});var n},T=(0,l.memo)(N),A=function(e){return(0,C.jsxs)("div",{className:x,children:[(0,C.jsx)("h2",{className:m,children:(n=e.title,"profileAccess"===n?"Profile Access":"messaging"===n?"Messaging":"commentingAndLiking"===n?"Commenting and Liking":"friendRequests"===n?"Friend Requests":n)}),(0,C.jsx)("div",{className:g,children:Object.keys(e.settingsData).length>0&&Object.keys(e.settingsData).map((function(n){return(0,C.jsx)(T,{settingKey:n,optionsShow:e.settingsData[n].optionsShow,settingValue:e.settingsData[n].currentValue,settingOptions:e.settingsData[n].options,onShowSettingsOptions:function(){return e.onShowSettingsOptions(e.title,n)},onHideSettingsOptions:function(){return e.onHideSettingsOptions(e.title,n)},onEditSetting:function(t){return e.onEditSetting(e.title,n,t)}},n)}))})]});var n},B=t(4079),F=t(5155),P="blockedPeopleBox_box__q8jyY",E="blockedPeopleBox_box__title__1Bghz",M="blockedPeopleBox_box__data__opbra",O="blockedPeopleBox_box__empty__Tnn6Z",z="singlePersonBlocked_blocked__dJCc6",D="singlePersonBlocked_blocked__img__EQcdo",L="singlePersonBlocked_blocked__info__9hWGi",W="singlePersonBlocked_blocked__name__xuH-6",H="singlePersonBlocked_blocked__btn__q9poH",I=t(6220),U=function(e){return(0,C.jsxs)("div",{className:z,children:[(0,C.jsx)("div",{className:D,children:(0,C.jsx)("img",{src:e.user.profilePhotoUrl||I,alt:"user"})}),(0,C.jsxs)("div",{className:L,children:[(0,C.jsx)("p",{className:W,children:e.user.fullName}),(0,C.jsx)("button",{type:"button",className:H,onClick:function(){return e.onPrepareUnblockUser(e.user._id,e.user.fullName)},children:"unblock"})]})]})},q=(0,l.memo)(U),R=t(5582),J=t(4268),K=function(){var e=(0,p.I0)(),n=(0,_.i)((function(e){return e.auth})).authUser,t=(0,l.useState)({id:null,name:null}),o=(0,r.Z)(t,2),s=o[0],a=o[1],i=(0,l.useCallback)((function(e,n){a({id:e,name:n})}),[]),c=(0,l.useCallback)((function(){a({id:null,name:null})}),[]),u=(0,l.useCallback)((function(){s.id&&e((0,J.zv)(s.id)),c()}),[e,s.id,c]);return(0,C.jsxs)(C.Fragment,{children:[null!==s.id&&null!==s.name&&(0,C.jsxs)(F.default,{show:null!==s.id&&null!==s.name,isErrorModal:!1,title:"Preparing to unblock user",text:"Are you sure you want to unblock ".concat(s.name,"?"),onClose:c,children:[(0,C.jsx)(R.Z,{btnType:"button",btnCustomType:"btn__cancel",btnText:"cancel",onClick:c}),(0,C.jsx)(R.Z,{btnType:"button",btnCustomType:"btn__confirm",btnText:"unblock",onClick:u})]}),(0,C.jsxs)("div",{className:P,children:[(0,C.jsx)("h2",{className:E,children:"People Blocked"}),(0,C.jsx)("div",{className:M,children:!n||n&&0===n.blockList.length?(0,C.jsx)("p",{className:O,children:"List is empty"}):n.blockList.map((function(e){return(0,C.jsx)(q,{user:e,onPrepareUnblockUser:i},e._id)}))})]})]})},G=(0,l.memo)(K),Q={commentingAndLiking:{whoCanCommentMyPhotos:{currentValue:"Everyone",optionsShow:!1,options:[{dbValue:"everyone",usedValue:"Everyone"},{dbValue:"friendsOfFriends",usedValue:"Friends of friends"},{dbValue:"friends",usedValue:"Friends only"},{dbValue:"none",usedValue:"No one"}]},whoCanCommentMyPosts:{currentValue:"Everyone",optionsShow:!1,options:[{dbValue:"everyone",usedValue:"Everyone"},{dbValue:"friendsOfFriends",usedValue:"Friends of friends"},{dbValue:"friends",usedValue:"Friends only"},{dbValue:"none",usedValue:"No one"}]},whoCanLikeMyPhotos:{currentValue:"Everyone",optionsShow:!1,options:[{dbValue:"everyone",usedValue:"Everyone"},{dbValue:"friendsOfFriends",usedValue:"Friends of friends"},{dbValue:"friends",usedValue:"Friends only"},{dbValue:"none",usedValue:"No one"}]},whoCanLikeMyPosts:{currentValue:"Everyone",optionsShow:!1,options:[{dbValue:"everyone",usedValue:"Everyone"},{dbValue:"friendsOfFriends",usedValue:"Friends of friends"},{dbValue:"friends",usedValue:"Friends only"},{dbValue:"none",usedValue:"No one"}]}},friendRequests:{whoCanAddMe:{currentValue:"Everyone",optionsShow:!1,options:[{dbValue:"everyone",usedValue:"Everyone"},{dbValue:"friendsOfFriends",usedValue:"Friends of friends"},{dbValue:"none",usedValue:"No one"}]}},messaging:{whoCanMessageMe:{currentValue:"Everyone",optionsShow:!1,options:[{dbValue:"everyone",usedValue:"Everyone"},{dbValue:"friendsOfFriends",usedValue:"Friends of friends"},{dbValue:"friends",usedValue:"Friends only"}]}},profileAccess:{whoCanSeeMyFriendsList:{currentValue:"Everyone",optionsShow:!1,options:[{dbValue:"everyone",usedValue:"Everyone"},{dbValue:"friendsOfFriends",usedValue:"Friends of friends"},{dbValue:"friends",usedValue:"Friends only"},{dbValue:"none",usedValue:"No one"}]},whoCanSeeMyPhotos:{currentValue:"Everyone",optionsShow:!1,options:[{dbValue:"everyone",usedValue:"Everyone"},{dbValue:"friendsOfFriends",usedValue:"Friends of friends"},{dbValue:"friends",usedValue:"Friends only"},{dbValue:"none",usedValue:"No one"}]},whoCanSeeMyPosts:{currentValue:"Everyone",optionsShow:!1,options:[{dbValue:"everyone",usedValue:"Everyone"},{dbValue:"friendsOfFriends",usedValue:"Friends of friends"},{dbValue:"friends",usedValue:"Friends only"},{dbValue:"none",usedValue:"No one"}]},whoCanSeeMyProfileInfo:{currentValue:"Everyone",optionsShow:!1,options:[{dbValue:"everyone",usedValue:"Everyone"},{dbValue:"friendsOfFriends",usedValue:"Friends of friends"},{dbValue:"friends",usedValue:"Friends only"},{dbValue:"none",usedValue:"No one"}]}}},Y=function(e){return"everyone"===e?"Everyone":"none"===e?"No one":"friends"===e?"Friends only":"friendsOfFriends"===e?"Friends of friends":e},X="accountDeactivationBox_box__lKjsr",$="accountDeactivationBox_box__title__TxesE",ee="accountDeactivationBox_box__data__T7U7N",ne="accountDeactivationBox_box__btn__x3IPq",te="accountDeactivationBox_box__btn_icon__vOomb",oe="accountDeactivationBox_box__btn_text__GlWdR",se="accountDeactivationBox_box__btn_deact__BOHLC",ae="accountDeactivationBox_box__btn_delete__K7aac",ie=function(e){return(0,C.jsxs)("div",{className:X,children:[(0,C.jsx)("h2",{className:$,children:"Account Deactivation / Deletion"}),(0,C.jsxs)("div",{className:ee,children:[(0,C.jsxs)("button",{type:"button",className:"".concat(ne," ").concat(se),onClick:function(){return e.onPrepareAccountAction("deactivateAccount","Account Deactivation","Are you sure you want to deactivate account? After deactivating, to activate again, just log in regularly","deactivate")},children:[(0,C.jsx)("span",{className:te,children:(0,C.jsxs)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 16 16",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsx)("path",{d:"M8.515 1.019A7 7 0 0 0 8 1V0a8 8 0 0 1 .589.022l-.074.997zm2.004.45a7.003 7.003 0 0 0-.985-.299l.219-.976c.383.086.76.2 1.126.342l-.36.933zm1.37.71a7.01 7.01 0 0 0-.439-.27l.493-.87a8.025 8.025 0 0 1 .979.654l-.615.789a6.996 6.996 0 0 0-.418-.302zm1.834 1.79a6.99 6.99 0 0 0-.653-.796l.724-.69c.27.285.52.59.747.91l-.818.576zm.744 1.352a7.08 7.08 0 0 0-.214-.468l.893-.45a7.976 7.976 0 0 1 .45 1.088l-.95.313a7.023 7.023 0 0 0-.179-.483zm.53 2.507a6.991 6.991 0 0 0-.1-1.025l.985-.17c.067.386.106.778.116 1.17l-1 .025zm-.131 1.538c.033-.17.06-.339.081-.51l.993.123a7.957 7.957 0 0 1-.23 1.155l-.964-.267c.046-.165.086-.332.12-.501zm-.952 2.379c.184-.29.346-.594.486-.908l.914.405c-.16.36-.345.706-.555 1.038l-.845-.535zm-.964 1.205c.122-.122.239-.248.35-.378l.758.653a8.073 8.073 0 0 1-.401.432l-.707-.707z"}),(0,C.jsx)("path",{d:"M8 1a7 7 0 1 0 4.95 11.95l.707.707A8.001 8.001 0 1 1 8 0v1z"}),(0,C.jsx)("path",{d:"M7.5 3a.5.5 0 0 1 .5.5v5.21l3.248 1.856a.5.5 0 0 1-.496.868l-3.5-2A.5.5 0 0 1 7 9V3.5a.5.5 0 0 1 .5-.5z"})]})}),(0,C.jsx)("span",{className:oe,children:"Deactivate account"})]}),(0,C.jsxs)("button",{type:"button",className:"".concat(ne," ").concat(ae),onClick:function(){return e.onPrepareAccountAction("deleteAccount","Account Deletion","Are you sure you want to delete your account? There is no going back after that.","delete")},children:[(0,C.jsx)("span",{className:te,children:(0,C.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:(0,C.jsxs)("g",{children:[(0,C.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,C.jsx)("path",{d:"M17 6h5v2h-2v13a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V8H2V6h5V3a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v3zm1 2H6v12h12V8zm-4.586 6l1.768 1.768-1.414 1.414L12 15.414l-1.768 1.768-1.414-1.414L10.586 14l-1.768-1.768 1.414-1.414L12 12.586l1.768-1.768 1.414 1.414L13.414 14zM9 4v2h6V4H9z"})]})})}),(0,C.jsx)("span",{className:oe,children:"Delete account"})]})]})]})},re=(0,l.memo)(ie),le=t(4627),ce=function(){var e=(0,p.I0)(),n=(0,_.i)((function(e){return e.auth})).authLoading,t=(0,l.useState)(!1),c=(0,r.Z)(t,2),u=c[0],x=c[1],m=(0,l.useState)(null),g=(0,r.Z)(m,2),b=(g[0],g[1]),v=(0,l.useState)(null),y=(0,r.Z)(v,2),V=y[0],w=y[1],k=(0,l.useState)({show:!1,actionType:null,title:"",text:"",confirmBtnText:null}),j=(0,r.Z)(k,2),S=j[0],Z=j[1],N=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){var n,t,o,i,r,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem("socNetAppToken"),x(!0),e.prev=2,e.next=5,d.get("/",{headers:{Authorization:"Bearer ".concat(n)}});case 5:for(r in t=e.sent,o=t.data,i=(0,a.Z)({},Q),o.settings)for(l in o.settings[r])r in i&&l in i[r]&&(i[r][l].currentValue=Y(o.settings[r][l]));w(i),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),b(e.t0.response.data.message);case 15:x(!1);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){N()}),[]);var T=(0,l.useCallback)(function(){var e=(0,i.Z)((0,s.Z)().mark((function e(n,t,i){var r;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=localStorage.getItem("socNetAppToken"),x(!0),e.prev=2,e.next=5,d.patch("/",{settingGroup:n,settingName:t,settingValue:i},{headers:{Authorization:"Bearer ".concat(r)}});case 5:w((function(e){return e?(0,a.Z)((0,a.Z)({},e),{},(0,o.Z)({},n,(0,a.Z)((0,a.Z)({},e[n]),{},(0,o.Z)({},t,(0,a.Z)((0,a.Z)({},e[n][t]),{},{currentValue:Y(i),optionsShow:!1}))))):e})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),b(e.t0.response.data.message);case 11:x(!1);case 12:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(n,t,o){return e.apply(this,arguments)}}(),[]),P=(0,l.useCallback)((function(e,n){w((function(t){return t?(0,a.Z)((0,a.Z)({},t),{},(0,o.Z)({},e,(0,a.Z)((0,a.Z)({},t[e]),{},(0,o.Z)({},n,(0,a.Z)((0,a.Z)({},t[e][n]),{},{optionsShow:!0}))))):t}))}),[]),E=(0,l.useCallback)((function(e,n){w((function(t){return t?(0,a.Z)((0,a.Z)({},t),{},(0,o.Z)({},e,(0,a.Z)((0,a.Z)({},t[e]),{},(0,o.Z)({},n,(0,a.Z)((0,a.Z)({},t[e][n]),{},{optionsShow:!1}))))):t}))}),[]),M=(0,l.useCallback)((function(e,n,t,o){Z({show:!0,actionType:e,title:n,text:t,confirmBtnText:o})}),[]),O=function(){Z({show:!1,actionType:null,title:"",text:"",confirmBtnText:null})},z=(0,l.useCallback)((0,i.Z)((0,s.Z)().mark((function n(){var t;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(x(!0),"deactivateAccount"!==S.actionType){n.next=12;break}return t=localStorage.getItem("socNetAppToken"),n.prev=3,n.next=6,h.Z.post("/deactivate",{},{headers:{Authorization:"Bearer ".concat(t)}});case 6:e((0,J.kS)()),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(3),b(n.t0.response.data.message);case 12:O(),x(!1);case 14:case"end":return n.stop()}}),n,null,[[3,9]])}))),[S.actionType,e]),D=function(){var n=(0,i.Z)((0,s.Z)().mark((function n(){var t;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(x(!0),"deleteAccount"!==S.actionType){n.next=12;break}return t=localStorage.getItem("socNetAppToken"),n.prev=3,n.next=6,le.Z.delete("/deleteAccount",{headers:{Authorization:"Bearer ".concat(t)}});case 6:e((0,J.kS)()),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(3),b(n.t0.response.data.message);case 12:O(),x(!1);case 14:case"end":return n.stop()}}),n,null,[[3,9]])})));return function(){return n.apply(this,arguments)}}();return n||u?(0,C.jsx)(B.Z,{}):(0,C.jsxs)(C.Fragment,{children:[S.show&&S.actionType&&S.confirmBtnText&&(0,C.jsxs)(F.default,{show:S.show&&null!==S.actionType&&null!==S.confirmBtnText,isErrorModal:!1,title:S.title,text:S.text,onClose:O,children:[(0,C.jsx)(R.Z,{btnCustomType:"btn__cancel",btnType:"button",btnText:"cancel",onClick:O}),(0,C.jsx)(R.Z,{btnCustomType:"btn__confirm",btnText:S.confirmBtnText,btnType:"button",onClick:"deactivateAccount"===S.actionType?z:D})]}),(0,C.jsxs)(f.Z,{loading:u,display:"container__block",hasPageTitle:!0,titleText:"Settings",titleTextAlign:"title__left",width:"big",children:[u?(0,C.jsx)(B.Z,{}):!u&&V?Object.keys(V).map((function(e){return(0,C.jsx)(A,{title:e,settingsData:V[e],onShowSettingsOptions:P,onHideSettingsOptions:E,onEditSetting:T},e)})):null,!u&&V&&(0,C.jsx)(re,{onPrepareAccountAction:M}),!u&&V&&(0,C.jsx)(G,{})]})]})}}}]);
//# sourceMappingURL=656.d10f6891.chunk.js.map