"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[242,134],{3134:function(e,n,t){t.r(n),t.d(n,{default:function(){return P}});var s=t(4165),o=t(5861),i=t(1413),r=t(9439),l=t(2791),d={slider:"photoSlider_slider__P4ahD",slider__content:"photoSlider_slider__content__Ef-Mo",slider__close_ss:"photoSlider_slider__close_ss__sRL-Z",slider__comments_show:"photoSlider_slider__comments_show__Oe6k6",slider__photo:"photoSlider_slider__photo__tCpO0",slider__photo_btn:"photoSlider_slider__photo_btn__BNb5w",slider__photo_btn_left:"photoSlider_slider__photo_btn_left__iV1Jp",slider__photo_btn_right:"photoSlider_slider__photo_btn_right__BRh5Q",slider__photo_image:"photoSlider_slider__photo_image__k3cQO",slider__info:"photoSlider_slider__info__jksbM",slider__info_ss_show:"photoSlider_slider__info_ss_show__taNWR",slider__info_top:"photoSlider_slider__info_top__lO8tl",slider__info_user:"photoSlider_slider__info_user__5-cIc",slider__info_user_image:"photoSlider_slider__info_user_image__mTB0m",slider__info_user_name:"photoSlider_slider__info_user_name__UXBFU",slider__info_date:"photoSlider_slider__info_date__VdN4t",slider__close:"photoSlider_slider__close__7FhlD",slider__close_comments:"photoSlider_slider__close_comments__-NbZK",slider__desc:"photoSlider_slider__desc__MafNW",slider__desc_text:"photoSlider_slider__desc_text__e4E3n",slider__desc_edit:"photoSlider_slider__desc_edit__6pSBX",slider__likes_and_comments:"photoSlider_slider__likes_and_comments__Ef+xK"},a=t(1087),c=t(6220),u=t(1334),_=t(6196),h=t(5155),p=t(5582),f=t(2943),m={description:{elementType:f.b.INPUT_TEXT,inputDisplay:f.c.INPUT_BLOCK,attributes:{id:"description",name:"description",placeholder:"Describe photo"},label:{labelShow:!0,labelFor:"description",labelText:"Description"},validation:{required:!0},focused:!1,touched:!1,value:"",valid:!1,errorMsg:"Some text is required before submiting"}},x="editPhotoDescriptionInput_input__2pJyj",b="editPhotoDescriptionInput_input__field__xlRw8",g="editPhotoDescriptionInput_input__btns__Lzk6f",v="editPhotoDescriptionInput_input__btn__4SM51",j="editPhotoDescriptionInput_input__btn_submit__qmDYd",Z="editPhotoDescriptionInput_input__btn_cancel__spNR8",C=t(8668),w=t(8459),k=t(184),S=function(e){return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(C.Z,{show:e.show,bcgColor:"dark",onClose:e.onClose,hiperZIndex:!0}),(0,k.jsxs)("form",{className:x,onSubmit:e.onSubmit,children:[(0,k.jsx)("div",{className:b,children:(0,k.jsx)(w.Z,(0,i.Z)((0,i.Z)({},e.input.description),{},{inputGroup:"description",onInputFocus:e.onEditPhotoDescInputFocused,onInputUnfocus:e.onEditPhotoDescInputUnfocused,onInputChange:e.onEditPhotoDescInputChanged}))}),!e.loading&&(0,k.jsxs)("div",{className:g,children:[(0,k.jsx)("button",{type:"submit",className:"".concat(v," ").concat(j),disabled:!e.submitDisabled,children:"edit"}),(0,k.jsx)("button",{type:"button",className:"".concat(v," ").concat(Z),onClick:e.onClose,children:"cancel"})]})]})]})},N=(0,l.memo)(S),P=function(e){var n=e.onCommentOnPhoto,t=e.onDeletePhotoComment,f=e.onLikePhoto,x=e.onUnlikePhoto,b=e.onLikePhotoComment,g=e.onUnlikePhotoComment,v=e.onChangePhotoDescription,j=(0,l.useState)(!1),Z=(0,r.Z)(j,2),w=Z[0],S=Z[1],P=(0,l.useState)(null),M=(0,r.Z)(P,2),y=M[0],I=M[1],T=(0,l.useState)(!1),F=(0,r.Z)(T,2),U=F[0],L=F[1],A=(0,l.useState)({show:!1,input:(0,i.Z)({},m)}),O=(0,r.Z)(A,2),B=O[0],D=O[1],q=(0,l.useState)({albumId:null,photoId:null,commentId:null}),R=(0,r.Z)(q,2),H=R[0],E=R[1],z=(0,l.useCallback)((function(){L(!1)}),[]),V=function(){E({albumId:null,photoId:null,commentId:null})},W=(0,l.useCallback)(function(){var t=(0,o.Z)((0,s.Z)().mark((function t(o,i,r,l){return(0,s.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(e.albumId,o,i,r,l);case 2:case"end":return t.stop()}}),t)})));return function(e,n,s,o){return t.apply(this,arguments)}}(),[n,e.albumId]),J=(0,l.useCallback)((function(n,t){e.albumId?E({albumId:e.albumId,photoId:n,commentId:t}):I("Album not found. Try refreshing the page")}),[e.albumId]),K=(0,l.useCallback)((0,o.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(H.albumId,H.photoId,H.commentId);case 2:V();case 3:case"end":return e.stop()}}),e)}))),[t,H]),X=(0,l.useCallback)(function(){var n=(0,o.Z)((0,s.Z)().mark((function n(t){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,f(e.albumId,t);case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[f,e.albumId]),G=(0,l.useCallback)(function(){var n=(0,o.Z)((0,s.Z)().mark((function n(t){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,x(e.albumId,t);case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[x,e.albumId]),Q=(0,l.useCallback)(function(){var n=(0,o.Z)((0,s.Z)().mark((function n(t,o){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,b(e.albumId,t,o);case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),[b,e.albumId]),Y=(0,l.useCallback)(function(){var n=(0,o.Z)((0,s.Z)().mark((function n(t,o){return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,g(e.albumId,t,o);case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}(),[g,e.albumId]),$=(0,l.useCallback)((function(){D({show:!1,input:(0,i.Z)({},m)})}),[]),ee=(0,l.useCallback)((function(e){D((function(e){return(0,i.Z)((0,i.Z)({},e),{},{input:(0,i.Z)((0,i.Z)({},e.input),{},{description:(0,i.Z)((0,i.Z)({},e.input.description),{},{focused:!0,touched:!0})})})}))}),[]),ne=(0,l.useCallback)((function(e){D((function(e){return(0,i.Z)((0,i.Z)({},e),{},{input:(0,i.Z)((0,i.Z)({},e.input),{},{description:(0,i.Z)((0,i.Z)({},e.input.description),{},{focused:!1})})})}))}),[]),te=(0,l.useCallback)((function(e,n){var t=e.target;D((function(e){return(0,i.Z)((0,i.Z)({},e),{},{input:(0,i.Z)((0,i.Z)({},e.input),{},{description:(0,i.Z)((0,i.Z)({},e.input.description),{},{value:t.value,valid:t.value.trim().length>0})})})}))}),[]),se=(0,l.useCallback)(function(){var n=(0,o.Z)((0,s.Z)().mark((function n(t){var o;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.preventDefault(),S(!0),0!==(o=B.input.description.value).trim().length){n.next=7;break}return I("Can't send empty description"),S(!1),n.abrupt("return");case 7:return n.next=9,v(e.albumId,e.photos[e.displayedPhotoIndex]._id,o);case 9:$(),S(!1);case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[B.input.description.value,e.displayedPhotoIndex,e.albumId,v,e.photos,$]),oe=(0,l.useCallback)((function(){I(null)}),[]);return(0,k.jsxs)(k.Fragment,{children:[null!==y&&(0,k.jsx)(h.default,{show:null!==y,isErrorModal:!0,title:"Error occured",text:y,onClose:oe,children:(0,k.jsx)(p.Z,{btnType:"button",btnCustomType:"btn__ok",btnText:"OK",onClick:oe})}),null!==H.albumId&&null!==H.photoId&&null!==H.commentId&&(0,k.jsxs)(h.default,{show:null!==H.albumId&&null!==H.photoId&&null!==H.commentId,isErrorModal:!1,title:"Prepairing to delete photo comment",text:"Are you sure you want to delete this comment?",onClose:V,children:[(0,k.jsx)(p.Z,{btnType:"button",btnCustomType:"btn__cancel",btnText:"cancel",onClick:V}),(0,k.jsx)(p.Z,{btnType:"button",btnCustomType:"btn__confirm",btnText:"delete",onClick:K})]}),(0,k.jsxs)("div",{className:d.slider,children:[U&&(0,k.jsx)(C.Z,{show:U,bcgColor:"dark",onClose:z,isSmallScreenSliderBackdrop:!0}),(0,k.jsxs)("div",{className:d.slider__content,children:[(0,k.jsxs)("div",{className:d.slider__photo,children:[(0,k.jsx)("div",{className:d.slider__close_ss,onClick:e.onClosePhotoSlider,children:"close"}),(0,k.jsx)("div",{className:d.slider__comments_show,onClick:function(){L(!0)},children:"show comments"}),(0,k.jsxs)("div",{className:d.slider__photo_btns,children:[e.displayedPhotoIndex>0&&(0,k.jsx)("button",{type:"button",className:"".concat(d.slider__photo_btn," ").concat(d.slider__photo_btn_left),onClick:e.prevPhoto,children:(0,k.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 1024 1024",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:(0,k.jsx)("path",{d:"M689 165.1L308.2 493.5c-10.9 9.4-10.9 27.5 0 37L689 858.9c14.2 12.2 35 1.2 35-18.5V183.6c0-19.7-20.8-30.7-35-18.5z"})})}),e.displayedPhotoIndex<e.photos.length-1&&(0,k.jsx)("button",{type:"button",className:"".concat(d.slider__photo_btn," ").concat(d.slider__photo_btn_right),onClick:e.nextPhoto,children:(0,k.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 1024 1024",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:(0,k.jsx)("path",{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"})})})]}),(0,k.jsx)("div",{className:d.slider__photo_image,children:(0,k.jsx)("img",{src:e.photos[e.displayedPhotoIndex].photo.secure_url,alt:"userImage"})})]}),(0,k.jsxs)("div",{className:"".concat(d.slider__info," ").concat(U?d.slider__info_ss_show:""),children:[(0,k.jsxs)("div",{className:d.slider__info_top,children:[(0,k.jsxs)("div",{className:d.slider__info_user,children:[(0,k.jsx)("div",{className:d.slider__info_user_image,children:(0,k.jsx)("img",{src:e.user.profilePhotoUrl||c,alt:"user"})}),(0,k.jsxs)("div",{className:d.slider__info_user_data,children:[(0,k.jsx)(a.rU,{to:"/user/".concat(e.user._id),className:d.slider__info_user_name,children:e.user.fullName}),(0,k.jsx)("p",{className:d.slider__info_date,children:e.photos[e.displayedPhotoIndex].createdAt?(0,_.o)(e.photos[e.displayedPhotoIndex].createdAt):""})]})]}),(0,k.jsx)("div",{className:d.slider__close,onClick:e.onClosePhotoSlider,children:"close slider"}),(0,k.jsx)("div",{className:d.slider__close_comments,onClick:z,children:"close comments"})]}),(0,k.jsxs)("div",{className:d.slider__desc,children:[e.isAuthUser&&e.onChangePhotoDescription&&B.show&&(0,k.jsx)(N,{show:B.show,input:B.input,loading:w,onClose:$,onEditPhotoDescInputFocused:ee,onEditPhotoDescInputUnfocused:ne,onEditPhotoDescInputChanged:te,submitDisabled:B.input.description.valid,onSubmit:se}),!B.show&&(0,k.jsx)("p",{className:d.slider__desc_text,children:e.photos[e.displayedPhotoIndex].description||"No description"}),e.isAuthUser&&!B.show&&(0,k.jsx)("button",{type:"button",className:d.slider__desc_edit,onClick:function(){var n=e.photos[e.displayedPhotoIndex].description||"";D((function(e){return{show:!0,input:(0,i.Z)((0,i.Z)({},e.input),{},{description:(0,i.Z)((0,i.Z)({},e.input.description),{},{value:n,touched:!!n,valid:!!n})})}}))},children:(0,k.jsxs)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[(0,k.jsx)("path",{d:"m7 17.013 4.413-.015 9.632-9.54c.378-.378.586-.88.586-1.414s-.208-1.036-.586-1.414l-1.586-1.586c-.756-.756-2.075-.752-2.825-.003L7 12.583v4.43zM18.045 4.458l1.589 1.583-1.597 1.582-1.586-1.585 1.594-1.58zM9 13.417l6.03-5.973 1.586 1.586-6.029 5.971L9 15.006v-1.589z"}),(0,k.jsx)("path",{d:"M5 21h14c1.103 0 2-.897 2-2v-8.668l-2 2V19H8.158c-.026 0-.053.01-.079.01-.033 0-.066-.009-.1-.01H5V5h6.847l2-2H5c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2z"})]})})]}),(0,k.jsx)("div",{className:d.slider__likes_and_comments,children:(0,k.jsx)(u.Z,{currentUserId:e.user._id,itemId:e.photos[e.displayedPhotoIndex]._id,likes:e.photos[e.displayedPhotoIndex].likes,comments:e.photos[e.displayedPhotoIndex].comments,onSubmitComment:W,onPrepareDeleteComment:J,onLikeItem:X,onUnlikeItem:G,onLikeComment:Q,onUnlikeComment:Y,hideLikingOption:e.hideLikingOption||!1,hideCommentingOption:e.hideCommentingOption||!1})})]})]})]})]})}},2497:function(e,n,t){t.r(n),t.d(n,{default:function(){return Y}});var s=t(4165),o=t(5861),i=t(1413),r=t(9439),l=t(2791),d=t(1725),a=t(2679),c=t(7689),u=t(4466),_=t(1573),h=t(3810),p=t(2942),f=t(8431),m=t(419),x=t(4079),b={btn:"profileHeaderBtn_btn__2s4yj",btn__add_friend:"profileHeaderBtn_btn__add_friend__aucbt",btn__button:"profileHeaderBtn_btn__button__px2CQ",btn__received_friend_request:"profileHeaderBtn_btn__received_friend_request__MBY-g",btn__sent_friend_request:"profileHeaderBtn_btn__sent_friend_request__7RhoP",btn__dropdown_list:"profileHeaderBtn_btn__dropdown_list__VtRhz",btn__message:"profileHeaderBtn_btn__message__dJLVW",btn__block:"profileHeaderBtn_btn__block__1yy0a",btn__friends:"profileHeaderBtn_btn__friends__KftHd",btn__button_icon:"profileHeaderBtn_btn__button_icon__Kmq--",btn__button_text:"profileHeaderBtn_btn__button_text__A8I5L",btn__button_arrow:"profileHeaderBtn_btn__button_arrow__lvpXT",btn__dropdown:"profileHeaderBtn_btn__dropdown__QXsCX",btn__dropdown_block:"profileHeaderBtn_btn__dropdown_block__yyuA1"},g=t(184),v=function(e){return(0,g.jsxs)("div",{className:"".concat(b.btn," ").concat(b[e.btnType]),children:[(0,g.jsxs)("button",{type:"button",className:b.btn__button,onClick:e.btnClicked,children:[(0,g.jsx)("span",{className:b.btn__button_icon,children:"btn__friends"===e.btnType?(0,g.jsxs)("svg",{stroke:"currentColor",fill:"none",strokeWidth:"2",viewBox:"0 0 24 24",strokeLinecap:"round",strokeLinejoin:"round",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[(0,g.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,g.jsx)("path",{d:"M7 5m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),(0,g.jsx)("path",{d:"M5 22v-5l-1 -1v-4a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v4l-1 1v5"}),(0,g.jsx)("path",{d:"M17 5m-2 0a2 2 0 1 0 4 0a2 2 0 1 0 -4 0"}),(0,g.jsx)("path",{d:"M15 22v-4h-2l2 -6a1 1 0 0 1 1 -1h2a1 1 0 0 1 1 1l2 6h-2v4"})]}):"btn__add_friend"===e.btnType?(0,g.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 1024 1024",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:(0,g.jsx)("path",{d:"M678.3 642.4c24.2-13 51.9-20.4 81.4-20.4h.1c3 0 4.4-3.6 2.2-5.6a371.67 371.67 0 0 0-103.7-65.8c-.4-.2-.8-.3-1.2-.5C719.2 505 759.6 431.7 759.6 349c0-137-110.8-248-247.5-248S264.7 212 264.7 349c0 82.7 40.4 156 102.6 201.1-.4.2-.8.3-1.2.5-44.7 18.9-84.8 46-119.3 80.6a373.42 373.42 0 0 0-80.4 119.5A373.6 373.6 0 0 0 137 888.8a8 8 0 0 0 8 8.2h59.9c4.3 0 7.9-3.5 8-7.8 2-77.2 32.9-149.5 87.6-204.3C357 628.2 432.2 597 512.2 597c56.7 0 111.1 15.7 158 45.1a8.1 8.1 0 0 0 8.1.3zM512.2 521c-45.8 0-88.9-17.9-121.4-50.4A171.2 171.2 0 0 1 340.5 349c0-45.9 17.9-89.1 50.3-121.6S466.3 177 512.2 177s88.9 17.9 121.4 50.4A171.2 171.2 0 0 1 683.9 349c0 45.9-17.9 89.1-50.3 121.6C601.1 503.1 558 521 512.2 521zM880 759h-84v-84c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v84h-84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h84v84c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-84h84c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"})}):"btn__received_friend_request"===e.btnType?(0,g.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:(0,g.jsxs)("g",{children:[(0,g.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,g.jsx)("path",{d:"M14 14.252v2.09A6 6 0 0 0 6 22l-2-.001a8 8 0 0 1 10-7.748zM12 13c-3.315 0-6-2.685-6-6s2.685-6 6-6 6 2.685 6 6-2.685 6-6 6zm0-2c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm8 6h3v2h-3v3.5L15 18l5-4.5V17z"})]})}):"btn__sent_friend_request"===e.btnType?(0,g.jsxs)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 16 16",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[(0,g.jsx)("path",{d:"M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855a.75.75 0 0 0-.124 1.329l4.995 3.178 1.531 2.406a.5.5 0 0 0 .844-.536L6.637 10.07l7.494-7.494-1.895 4.738a.5.5 0 1 0 .928.372l2.8-7Zm-2.54 1.183L5.93 9.363 1.591 6.602l11.833-4.733Z"}),(0,g.jsx)("path",{d:"M16 12.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0Zm-4.854-1.354a.5.5 0 0 0 0 .708l.647.646-.647.646a.5.5 0 0 0 .708.708l.646-.647.646.647a.5.5 0 0 0 .708-.708l-.647-.646.647-.646a.5.5 0 0 0-.708-.708l-.646.647-.646-.647a.5.5 0 0 0-.708 0Z"})]}):"btn__message"===e.btnType?(0,g.jsxs)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[(0,g.jsx)("path",{d:"M20 2H4c-1.103 0-2 .897-2 2v12c0 1.103.897 2 2 2h3v3.767L13.277 18H20c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2zm0 14h-7.277L9 18.233V16H4V4h16v12z"}),(0,g.jsx)("path",{d:"M11 14h2v-3h3V9h-3V6h-2v3H8v2h3z"})]}):(0,g.jsxs)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 24 24",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:[(0,g.jsx)("path",{fill:"none",d:"M0 0h24v24H0z"}),(0,g.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9A7.902 7.902 0 014 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1A7.902 7.902 0 0120 12c0 4.42-3.58 8-8 8z"})]})}),(0,g.jsx)("span",{className:b.btn__button_text,children:e.text}),("btn__friends"===e.btnType||"btn__received_friend_request"===e.btnType||"btn__sent_friend_request"===e.btnType)&&(0,g.jsx)("span",{className:b.btn__button_arrow,children:(0,g.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 16 16",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:(0,g.jsx)("path",{d:"M3.204 5h9.592L8 10.481 3.204 5zm-.753.659 4.796 5.48a1 1 0 0 0 1.506 0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 0 0-.753 1.659z"})})})]}),e.children]})},j={dropdown:"profileHeaderBtnDropdown_dropdown__szLAT",dropdown__list:"profileHeaderBtnDropdown_dropdown__list__a2fZn",dropdown__show:"profileHeaderBtnDropdown_dropdown__show__OmwCQ",dropdown__friends:"profileHeaderBtnDropdown_dropdown__friends__kFrAd",dropdown__received:"profileHeaderBtnDropdown_dropdown__received__KXqHY",dropdown__sent:"profileHeaderBtnDropdown_dropdown__sent__XXNw2"},Z=t(8668),C=function(e){return(0,g.jsxs)("div",{className:"".concat(j.dropdown," ").concat(e.show?j.dropdown__show:""," ").concat(j[e.className]),children:[(0,g.jsx)(Z.Z,{show:e.show,bcgColor:"transparent",onClose:e.onClose}),(0,g.jsx)("div",{className:j.dropdown__list,children:e.listItems.map((function(e){return(0,g.jsx)("span",{onClick:e.action,children:e.text},e.text)}))})]})},w=t(4510),k=t(7153),S=t(5155),N=t(5582),P=t(4268),M=t(1802),y=function(e){var n=(0,u.I0)(),t=(0,c.s0)(),s=(0,_.i)((function(e){return e.auth})),o=s.authLoading,i=s.authErrorMsg,d=s.userJustBlocked,a=(0,l.useState)(!1),h=(0,r.Z)(a,2),p=h[0],b=h[1],j=(0,l.useState)(!1),Z=(0,r.Z)(j,2),y=Z[0],I=Z[1],T=(0,m.$)(),F=T.sendMessageLoading,U=T.sendMessageErrorMsg,L=T.messageInfo,A=T.onClearSendMessageError,O=T.onOpenSendMessageModal,B=T.onCloseSendMessageModal,D=T.onSendMessageInputTextFocused,q=T.onSendMessageInputTextUnfocused,R=T.onSendMessageInputTextChanged,H=T.onSendMessageUploadPhoto,E=T.onDeleteSendMessagePhoto,z=T.onSendMessage;(0,l.useEffect)((function(){d&&(t("/",{replace:!0}),n((0,M.$J)()),n((0,P.ZS)()))}),[d,n,t]);var V=function(){b(!0)},W=function(){b(!1)},J=[{text:"unfriend",action:function(){e.onUnfriend(),b(!1)}}],K=[{text:"accept request",action:function(){e.onAcceptFriendRequest(),b(!1)}},{text:"decline request",action:function(){e.onDeclineFriendRequest(),b(!1)}}],X=[{text:"cancel request",action:function(){e.onUnsendFriendRequest(),b(!1)}}],G=(0,l.useCallback)((function(){O(e.user._id,e.user.fullName)}),[O,e.user._id,e.user.fullName]),Q=(0,l.useCallback)((function(){I(!0)}),[]),Y=(0,l.useCallback)((function(){I(!1)}),[]),$=(0,l.useCallback)((function(){var t="none";"friends"===e.friendStatus?t="friends":"receivedFriendRequest"===e.friendStatus?t="receivedPendingRequests":"sentFriendRequest"===e.friendStatus&&(t="sentPendingRequests"),n((0,P.rf)(e.user._id,t)),I(!1)}),[n,e.friendStatus,e.user._id]);return o?(0,g.jsx)(x.Z,{}):(0,g.jsxs)(g.Fragment,{children:[(null!==U||null!==i||y)&&(0,g.jsxs)(S.default,{show:null!==U||y,isErrorModal:null!==U||null!==i,title:null!==U||null!==i?"Error Occured":y?"Preparing to block user":"",text:null!==U?U:null!==i?i:y?"Are you sure you want to block this user?":"Unknown error",onClose:null!==U?A:null!==i?function(){return n((0,P.tG)())}:y?Y:function(){},children:[(null!==U||null!==i)&&(0,g.jsx)(N.Z,{btnType:"button",btnCustomType:"btn__ok",btnText:"OK",onClick:null!==U?A:function(){return n((0,P.tG)())}}),y&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(N.Z,{btnType:"button",btnCustomType:"btn__cancel",btnText:"cancel",onClick:Y}),(0,g.jsx)(N.Z,{btnType:"button",btnCustomType:"btn__confirm",btnText:"block",onClick:$})]})]}),null!==L.userId&&null!==L.userName&&(0,g.jsx)(k.default,{show:null!==L.userId&&null!==L.userName,loading:F,friendToSentMessageName:L.userName,onClose:B,messageTextInput:L.messageTextInput,onMessageTextFocused:D,onMessageTextUnfocused:q,onMessageTextChanged:R,photoFile:L.messagePhoto,photoPreview:L.messagePhotoPreview,onUploadPhoto:H,onRemovePhoto:E,onSendMessageToUser:z}),(0,g.jsxs)("section",{className:"".concat(f.Z.header," ").concat(f.Z.header__users),children:[(0,g.jsx)(w.Z,{user:e.user}),e.loading?(0,g.jsx)(x.Z,{}):(0,g.jsxs)("div",{className:f.Z.header__btns,children:["friends"===e.friendStatus?(0,g.jsx)(v,{btnType:"btn__friends",text:"Friends",btnClicked:V,children:(0,g.jsx)(C,{show:p,className:"dropdown__friends",listItems:J,onClose:W})}):e.friendStatus&&"receivedFriendRequest"===e.friendStatus?(0,g.jsx)(v,{btnType:"btn__received_friend_request",text:"Confirm/Cancel",btnClicked:V,children:(0,g.jsx)(C,{show:p,className:"dropdown__received",listItems:K,onClose:W})}):e.friendStatus&&"sentFriendRequest"===e.friendStatus?(0,g.jsx)(v,{btnType:"btn__sent_friend_request",text:"Requested",btnClicked:V,children:(0,g.jsx)(C,{show:p,className:"dropdown__sent",listItems:X,onClose:W})}):e.friendStatus&&"none"===e.friendStatus&&e.whoCanAddUser&&"everyone"===e.whoCanAddUser?(0,g.jsx)(v,{btnType:"btn__add_friend",text:"Add Friend",btnClicked:e.onSendFriendRequest}):e.friendStatus&&"none"===e.friendStatus&&e.whoCanAddUser&&"friendsOfFriends"===e.whoCanAddUser&&e.haveMutualFriends?(0,g.jsx)(v,{btnType:"btn__add_friend",text:"Add Friend"}):null,("everyone"===e.whoCanMessageUser||"friends"===e.friendStatus||"friendsOfFriends"===e.whoCanMessageUser&&e.haveMutualFriends)&&(0,g.jsx)(v,{btnType:"btn__message",text:"Send Message",btnClicked:G}),(0,g.jsx)(v,{btnType:"btn__block",text:"Block User",btnClicked:Q})]})]})]})},I=t(5867),T=t(2410),F=t(2558),U=t(5621),L=t(1136),A=t(6326),O=t(6196),B=function(e){return(0,g.jsx)("div",{className:F.Z.info,children:!e.profile||e.profile&&0===Object.keys(e.profile).length?(0,g.jsx)("p",{className:F.Z.info__no_profile,children:"Data not available"}):(0,g.jsxs)("div",{className:F.Z.info__content,children:[(0,g.jsxs)("div",{className:F.Z.info__top,children:[(0,g.jsxs)("div",{className:"".concat(F.Z.info__box," ").concat(F.Z.info__box_basic),children:[(0,g.jsx)("div",{className:F.Z.info__box_title,children:(0,g.jsx)("h4",{children:"Basic Info"})}),(0,g.jsxs)("div",{className:F.Z.info__box_data,children:[(0,g.jsx)("div",{className:F.Z.info__box_data_item,children:(0,g.jsxs)("p",{className:F.Z.info__box_data_item_value,children:[(0,g.jsx)("span",{className:F.Z.key,children:"Full Name: "}),(0,g.jsx)("span",{className:F.Z.value,children:e.user.fullName})]})}),(0,g.jsx)("div",{className:F.Z.info__box_data_item,children:(0,g.jsxs)("p",{className:F.Z.info__box_data_item_value,children:[(0,g.jsx)("span",{className:F.Z.key,children:"Email: "}),(0,g.jsx)("span",{className:F.Z.value,children:e.user.email})]})}),(0,g.jsx)("div",{className:F.Z.info__box_data_item,children:(0,g.jsxs)("p",{className:F.Z.info__box_data_item_value,children:[(0,g.jsx)("span",{className:F.Z.key,children:"Birthday: "}),(0,g.jsx)("span",{className:F.Z.value,children:e.user.dateOfBirth||"No data"})]})}),(0,g.jsx)("div",{className:F.Z.info__box_data_item,children:(0,g.jsxs)("p",{className:F.Z.info__box_data_item_value,children:[(0,g.jsx)("span",{className:F.Z.key,children:"Gender: "}),(0,g.jsx)("span",{className:F.Z.value,children:e.user.gender})]})})]})]}),(0,g.jsxs)("div",{className:"".concat(F.Z.info__box," ").concat(F.Z.info__box_work),children:[(0,g.jsx)("div",{className:F.Z.info__box_title,children:(0,g.jsx)("h4",{children:"Work"})}),(0,g.jsxs)("div",{className:F.Z.info__box_dataflex,children:[(0,g.jsxs)("div",{className:F.Z.info__box_dataflex_subbox,children:[(0,g.jsx)("div",{className:F.Z.title,children:(0,g.jsx)("h4",{children:"Current Jobs"})}),(0,g.jsx)("div",{className:F.Z.items,children:0===e.profile.jobs.length||e.profile.jobs.length>0&&e.profile.jobs.every((function(e){return!e.role}))?(0,g.jsx)("p",{className:F.Z.no_info,children:"No Info"}):e.profile.jobs.map((function(n){return(0,g.jsx)(U.Z,{jobType:"current",job:n,isAuthUser:e.isAuthUser},n._id)}))})]}),(0,g.jsxs)("div",{className:"".concat(F.Z.info__box_dataflex_subbox," ").concat(F.Z.info__box_dataflex_subbox__stretch),children:[(0,g.jsx)("div",{className:F.Z.title,children:(0,g.jsx)("h4",{children:"Previous Jobs"})}),(0,g.jsx)("div",{className:F.Z.items,children:0===e.profile.previousJobs.length||e.profile.previousJobs.length>0&&e.profile.previousJobs.every((function(e){return!e.role}))?(0,g.jsx)("p",{className:F.Z.no_info,children:"No Info"}):e.profile.previousJobs.map((function(n){return(0,g.jsx)(U.Z,{jobType:"previous",job:n,isAuthUser:e.isAuthUser},n._id)}))})]})]})]})]}),(0,g.jsxs)("div",{className:F.Z.info__bottom,children:[(0,g.jsxs)("div",{className:F.Z.info__box,children:[(0,g.jsx)("div",{className:F.Z.info__box_title,children:(0,g.jsx)("h4",{children:"Education"})}),(0,g.jsxs)("div",{className:F.Z.info__box_dataflex,children:[(0,g.jsxs)("div",{className:F.Z.info__box_dataflex_subbox,children:[(0,g.jsx)("div",{className:F.Z.title,children:(0,g.jsx)("h4",{children:"High School"})}),(0,g.jsx)("div",{className:F.Z.items,children:!e.profile.highSchool||e.profile.highSchool&&!e.profile.highSchool.name?(0,g.jsx)("p",{className:F.Z.no_info,children:"No Info"}):(0,g.jsx)("div",{className:F.Z.item,children:(0,g.jsxs)("p",{className:F.Z.item__info,children:["finished"===e.profile.highSchool.status?"Graduated ":"Goes to "," ",(0,g.jsx)("span",{children:e.profile.highSchool.name})," ",e.profile.highSchool.country?"in":""," ",e.profile.highSchool.country?(0,g.jsx)("span",{children:e.profile.highSchool.country}):""," ",e.profile.highSchool.state?(0,g.jsxs)("span",{children:["/",e.profile.highSchool.state]}):""," ",e.profile.highSchool.city?(0,g.jsxs)("span",{children:["/",e.profile.highSchool.city]}):""," ","finished"===e.profile.highSchool.status&&e.profile.highSchool.graduateDate?"on":""," ","finished"===e.profile.highSchool.status&&e.profile.highSchool.graduateDate?(0,g.jsx)("span",{children:(0,O.o)(e.profile.highSchool.graduateDate)}):""]})})})]}),(0,g.jsxs)("div",{className:"".concat(F.Z.info__box_dataflex_subbox," ").concat(F.Z.info__box_dataflex_subbox__stretch),children:[(0,g.jsx)("div",{className:F.Z.title,children:(0,g.jsx)("h4",{children:"Colleges"})}),(0,g.jsx)("div",{className:F.Z.items,children:0===e.profile.colleges.length||e.profile.colleges.length>0&&e.profile.colleges.every((function(e){return!e.name}))?(0,g.jsx)("p",{className:F.Z.no_info,children:"No Info"}):e.profile.colleges.map((function(n){return(0,g.jsx)(A.Z,{education:n,eduType:"college",isAuthUser:e.isAuthUser},n._id)}))})]}),(0,g.jsxs)("div",{className:"".concat(F.Z.info__box_dataflex_subbox," ").concat(F.Z.info__box_dataflex_subbox__stretch),children:[(0,g.jsx)("div",{className:F.Z.title,children:(0,g.jsx)("h4",{children:"Other"})}),(0,g.jsx)("div",{className:F.Z.items,children:0===e.profile.educationOther.length||e.profile.educationOther.length>0&&e.profile.educationOther.every((function(e){return!e.name}))?(0,g.jsx)("p",{className:F.Z.no_info,children:"No Info"}):e.profile.educationOther.map((function(n){return(0,g.jsx)(A.Z,{education:n,eduType:"education",isAuthUser:e.isAuthUser},n._id)}))})]})]})]}),(0,g.jsxs)("div",{className:F.Z.info__box,children:[(0,g.jsx)("div",{className:F.Z.info__box_title,children:(0,g.jsx)("h4",{children:"Residences"})}),(0,g.jsxs)("div",{className:F.Z.info__box_dataflex,children:[(0,g.jsxs)("div",{className:F.Z.info__box_dataflex_subbox,children:[(0,g.jsx)("div",{className:F.Z.title,children:(0,g.jsx)("h4",{children:"Current"})}),(0,g.jsx)("div",{className:F.Z.items,children:!e.profile.currentResidence||e.profile.currentResidence&&!e.profile.currentResidence.country?(0,g.jsx)("p",{className:F.Z.no_info,children:"No Info"}):(0,g.jsx)(L.Z,{residenceType:"current",residence:e.profile.currentResidence,isAuthUser:e.isAuthUser})})]}),(0,g.jsxs)("div",{className:"".concat(F.Z.info__box_dataflex_subbox," ").concat(F.Z.info__box_dataflex_subbox__stretch),children:[(0,g.jsx)("div",{className:F.Z.title,children:(0,g.jsx)("h4",{children:"Previous"})}),(0,g.jsx)("div",{className:F.Z.items,children:0===e.profile.previousResidences.length||e.profile.previousResidences.length>0&&e.profile.previousResidences.every((function(e){return!e.country}))?(0,g.jsx)("p",{className:F.Z.no_info,children:"No Info"}):e.profile.previousResidences.map((function(n){return(0,g.jsx)(L.Z,{residenceType:"previous",residence:n,isAuthUser:e.isAuthUser},n._id)}))})]})]})]})]})]})})},D=t(7975),q=t(739),R=t(6533),H=t(2065),E=t(8340),z=t(3134),V=function(e){var n=(0,R.C)(),t=n.photosLoading,s=n.photosErrorMsg,o=n.albums,i=n.selectedAlbum,r=n.photoSliderInfo,d=n.onGetPhotoAlbums,a=n.onClearPhotosError,c=n.onSelectPhotoAlbum,u=n.onUnselectPhotoAlbum,_=n.onOpenPhotoSlider,h=n.onClosePhotoSlider,p=n.onSliderPrevPhoto,f=n.onSliderNextPhoto,m=n.onLikePhoto,b=n.onUnlikePhoto,v=n.onCommentOnPhoto,j=n.onDeletePhotoComment,Z=n.onLikePhotoComment,C=n.onUnlikePhotoComment;return(0,l.useEffect)((function(){"none"!==e.whoCanSeePhotos&&("friends"===e.whoCanSeePhotos&&"friends"!==e.friendStatus||("friendsOfFriends"!==e.whoCanSeePhotos||"friends"===e.friendStatus||e.haveMutualFriends)&&d("/".concat(e.user._id)))}),[d,e.friendStatus,e.haveMutualFriends,e.whoCanSeePhotos,e.user._id]),t?(0,g.jsx)(x.Z,{}):(0,g.jsxs)(g.Fragment,{children:[s&&(0,g.jsx)(S.default,{show:null!==s,isErrorModal:!0,title:"Error occured",text:s,onClose:a,children:(0,g.jsx)(N.Z,{btnType:"button",btnCustomType:"btn__ok",btnText:"OK",onClick:a})}),r.show&&i&&(0,g.jsx)(z.default,{user:e.user,albumId:i._id,displayedPhotoIndex:r.currentPhotoIndex,prevPhoto:p,nextPhoto:f,photos:i.photos,onClosePhotoSlider:h,hideLikingOption:e.hideLikingOption||!1,hideCommentingOption:e.hideCommentingOption||!1,onLikePhoto:m,onUnlikePhoto:b,onCommentOnPhoto:v,onDeletePhotoComment:j,onLikePhotoComment:Z,onUnlikePhotoComment:C}),(0,g.jsx)("div",{className:q.Z.photos,children:i?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)("div",{className:q.Z.photos__btns,children:(0,g.jsxs)("button",{className:"".concat(q.Z.photos__btn," ").concat(q.Z.photos__btn_back),onClick:u,children:[(0,g.jsx)("span",{className:q.Z.photos__btn_icon,children:(0,g.jsx)("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",height:"1em",width:"1em",xmlns:"http://www.w3.org/2000/svg",children:(0,g.jsx)("path",{d:"M215.469 332.802l29.863 29.864L352 256 245.332 149.333l-29.863 29.865 55.469 55.469H64v42.666h205.864l-54.395 55.469zM405.334 64H106.666C83.198 64 64 83.198 64 106.666V192h42.666v-85.333h298.668v298.668H106.666V320H64v85.334C64 428.802 83.198 448 106.666 448h298.668C428.802 448 448 428.802 448 405.334V106.666C448 83.198 428.802 64 405.334 64z"})})}),(0,g.jsx)("span",{className:q.Z.photos__btn_text,children:"go back"})]})}),(0,g.jsx)(H.Z,{album:i,onOpenPhotoSlider:_})]}):(0,g.jsx)("div",{className:q.Z.photos__albums,children:0===o.length?(0,g.jsx)("p",{className:q.Z.photos__albums_empty,children:"No Albums to show"}):o.map((function(e){return(0,g.jsx)(E.Z,{album:e,onViewPhotoAlbum:c},e._id)}))})})]})},W=t(3433),J=t(3298),K=t(5045),X=t(1098),G=t(6121),Q=function(e){var n=e.loading,t=e.userFriends,s=(0,_.i)((function(e){return e.friends})),o=s.friends,i=s.sentPendingRequests,d=s.receivedPendingRequests,a=(0,_.i)((function(e){return e.auth})).authUser,c=(0,l.useState)("all"),u=(0,r.Z)(c,2),h=u[0],p=u[1],f=(0,l.useState)([]),b=(0,r.Z)(f,2),v=b[0],j=b[1],Z=(0,l.useState)(0),C=(0,r.Z)(Z,2),w=C[0],P=C[1],M=(0,K.S)(),y=M.mutualFriendsInfo,I=M.onOpenFriendsModal,T=M.onCloseFriendsModal,F=(0,m.$)(),U=F.sendMessageLoading,L=F.sendMessageErrorMsg,A=F.messageInfo,O=F.onClearSendMessageError,B=F.onOpenSendMessageModal,D=F.onCloseSendMessageModal,q=F.onSendMessageInputTextFocused,R=F.onSendMessageInputTextUnfocused,H=F.onSendMessageInputTextChanged,E=F.onSendMessageUploadPhoto,z=F.onDeleteSendMessagePhoto,V=F.onSendMessage,Q=(0,l.useCallback)((function(){var e=o.map((function(e){return e.user._id})),n=t.filter((function(n){return e.includes(n.user._id)&&n.user._id!==a._id}));P(n.length)}),[a,o,t]);(0,l.useEffect)((function(){j((0,W.Z)(t)),Q()}),[Q,t]);var Y=function(e){var n=o.find((function(n){return n.user._id===e})),t=d.find((function(n){return n.user._id===e})),s=i.find((function(n){return n.user._id===e}));return n?"friends":t?"receivedPendingRequests":s?"sentPendingRequests":"none"},$=function(e){if("mutual"===e){var n=o.map((function(e){return e.user._id})),s=t.filter((function(e){return n.includes(e.user._id)&&e.user._id!==a._id}));j((0,W.Z)(s))}else j((0,W.Z)(t));p(e)},ee=(0,l.useCallback)((function(e,n){var t=o.filter((function(n){return e.includes(n.user._id)}));I(e,n,t)}),[o,I]);return n?(0,g.jsx)(x.Z,{}):(0,g.jsxs)(g.Fragment,{children:[null!==A.userId&&null!==A.userName&&(0,g.jsx)(k.default,{show:null!==A.userId&&null!==A.userName,loading:U,friendToSentMessageName:A.userName,onClose:D,messageTextInput:A.messageTextInput,onMessageTextFocused:q,onMessageTextUnfocused:R,onMessageTextChanged:H,photoFile:A.messagePhoto,photoPreview:A.messagePhotoPreview,onUploadPhoto:E,onRemovePhoto:z,onSendMessageToUser:V}),null!==L&&(0,g.jsx)(S.default,{show:null!==L,isErrorModal:!0,title:"Error Occured",text:L,onClose:O,children:(0,g.jsx)(N.Z,{btnType:"button",btnCustomType:"btn__ok",btnText:"OK",onClick:O})}),y.modalShow&&y.clickedFriendName&&(0,g.jsx)(G.Z,{show:y.modalShow,title:"Mutual Friends with ".concat(y.clickedFriendName),friends:y.mutualFriends,onClose:T}),(0,g.jsxs)("div",{className:J.Z.friends,children:[(0,g.jsxs)("div",{className:J.Z.friends__btns,children:[(0,g.jsxs)("button",{type:"button",className:"".concat(J.Z.friends__btn," ").concat("all"===h?J.Z.friends__btn_active:""),onClick:function(){return $("all")},children:[(0,g.jsx)("span",{children:"all "}),(0,g.jsxs)("span",{children:["(",t.length,")"]})]}),(0,g.jsxs)("button",{type:"button",className:"".concat(J.Z.friends__btn," ").concat("mutual"===h?J.Z.friends__btn_active:""),onClick:function(){return $("mutual")},children:[(0,g.jsx)("span",{children:"mutual "}),(0,g.jsxs)("span",{children:["(",w,")"]})]})]}),(0,g.jsx)("div",{className:J.Z.friends__list,children:0===v.length?(0,g.jsx)("p",{className:J.Z.friends__list_empty,children:"No list to show"}):v.map((function(e){return(0,g.jsx)(X.Z,{userRelation:Y(e.user._id),user:e.user,mutualFriends:e.mutualFriends,whoCanMessageUser:e.whoCanMessageUser,onOpenFriendsModal:ee,onOpenSendMessageModal:B},e.user._id)}))})]})]})},Y=function(){var e=(0,c.s0)(),n=(0,u.I0)(),t=(0,c.UO)().userId,f=(0,h.k)(),m=f.postsLoading,b=f.posts,v=f.onLoadPosts,j=f.onLikePost,Z=f.onUnlikePost,C=f.onCommentOnPost,w=f.onDeletePostComment,k=f.onLikePostComment,P=f.onUnlikePostComment,F=(0,l.useState)(!1),U=(0,r.Z)(F,2),L=U[0],A=U[1],O=(0,l.useState)(null),q=(0,r.Z)(O,2),R=q[0],H=q[1],E=(0,_.i)((function(e){return e.friends})),z=E.requestStatus,W=E.friendsLoading,J=E.friendsErrorMsg,K=(0,_.i)((function(e){return e.auth})).authUser,X=(0,l.useState)({user:null,settings:null,friendStatus:"none",haveMutualFriends:!1}),G=(0,r.Z)(X,2),Y=G[0],$=G[1],ee=(0,l.useState)(null),ne=(0,r.Z)(ee,2),te=ne[0],se=ne[1],oe=(0,l.useState)([]),ie=(0,r.Z)(oe,2),re=ie[0],le=ie[1],de=(0,l.useState)("posts"),ae=(0,r.Z)(de,2),ce=ae[0],ue=ae[1];(0,l.useEffect)((function(){if("requested"===z)$((function(e){return(0,i.Z)((0,i.Z)({},e),{},{friendStatus:"sentFriendRequest"})}));else if("unsent"===z)$((function(e){return(0,i.Z)((0,i.Z)({},e),{},{friendStatus:"none"})}));else if("accepted"===z)$((function(e){return(0,i.Z)((0,i.Z)({},e),{},{friendStatus:"friends"})}));else if("declined"===z)$((function(e){return(0,i.Z)((0,i.Z)({},e),{},{friendStatus:"none"})}));else if("unfriended"===z)$((function(e){return(0,i.Z)((0,i.Z)({},e),{},{friendStatus:"none"})}));else if("idle"===z)return;n((0,M.qv)())}),[z,n]);var _e=(0,l.useCallback)((0,o.Z)((0,s.Z)().mark((function n(){var o,i,r;return(0,s.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=localStorage.getItem("socNetAppToken"),A(!0),t){n.next=5;break}return H("User not found. Try refreshing the page"),n.abrupt("return");case 5:if(!t||!K||t!==K._id){n.next=8;break}return e("/me",{replace:!0}),n.abrupt("return");case 8:return n.prev=8,n.next=11,d.Z.get("/".concat(t),{headers:{Authorization:"Bearer ".concat(o)}});case 11:i=n.sent,r=i.data,$({user:r.user,settings:r.userSettings,friendStatus:r.friendStatus,haveMutualFriends:r.haveMutualFriends}),v(r.posts),se(null),le([]),ue("posts"),n.next=23;break;case 20:n.prev=20,n.t0=n.catch(8),H(n.t0.response.data.message);case 23:A(!1);case 24:case"end":return n.stop()}}),n,null,[[8,20]])}))),[t,K,e,v]);(0,l.useEffect)((function(){_e()}),[_e]);var he=function(){H(null)},pe=function(){n((0,M.de)())},fe=(0,l.useCallback)((0,o.Z)((0,s.Z)().mark((function e(){return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Y.user&&n((0,M.QT)(Y.user._id));case 1:case"end":return e.stop()}}),e)}))),[Y.user,n]),me=(0,l.useCallback)((function(){Y.user&&n((0,M.My)(Y.user._id))}),[Y.user,n]),xe=(0,l.useCallback)((function(){Y.user&&n((0,M.ND)(Y.user._id))}),[Y.user,n]),be=(0,l.useCallback)((function(){Y.user&&n((0,M.fI)(Y.user._id))}),[Y.user,n]),ge=(0,l.useCallback)((function(){Y.user&&n((0,M.oI)(Y.user._id))}),[Y.user,n]),ve=(0,l.useCallback)((0,o.Z)((0,s.Z)().mark((function e(){var n,t,o;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=localStorage.getItem("socNetAppToken"),e.prev=1,Y.user&&Y.settings){e.next=5;break}return H("User profile not found"),e.abrupt("return");case 5:if(!te){e.next=7;break}return e.abrupt("return");case 7:return A(!0),e.next=10,a.Z.get("/".concat(Y.user._id,"/").concat(Y.settings.profileAccess.whoCanSeeMyProfileInfo),{headers:{Authorization:"Bearer ".concat(n)}});case 10:t=e.sent,o=t.data,se(o.profile),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),H(e.t0.response.data.message);case 18:A(!1);case 19:case"end":return e.stop()}}),e,null,[[1,15]])}))),[Y,te]),je=(0,l.useCallback)((0,o.Z)((0,s.Z)().mark((function e(){var n,o,i;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return",H("Friend List not found. Try refreshing the page"));case 2:return n=localStorage.getItem("socNetAppToken"),A(!0),e.prev=4,e.next=7,D.Z.get("/userFriends/".concat(t),{headers:{Authorization:"Bearer ".concat(n)}});case 7:o=e.sent,i=o.data,console.log(i),le(i.friends),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),H(e.t0.response.data.message);case 16:A(!1);case 17:case"end":return e.stop()}}),e,null,[[4,13]])}))),[t]),Ze=(0,l.useCallback)((function(e){"info"===e?ve():"friends"===e&&je(),ue(e)}),[ve,je]);return L?(0,g.jsx)(x.Z,{}):(0,g.jsxs)(g.Fragment,{children:[(R||J)&&(0,g.jsx)(S.default,{show:null!==R||null!==J,isErrorModal:!0,title:"Error occured",text:null===R||J?R||null===J?"Something went wrong":J:R,onClose:null===R||J?R||null===J?function(){he(),pe()}:pe:he,children:(0,g.jsx)(N.Z,{btnCustomType:"btn__ok",btnText:"ok",btnType:"button",onClick:null===R||J?R||null===J?function(){he(),pe()}:pe:he})}),(0,g.jsx)(p.Z,{display:"container__block",hasPageTitle:!1,loading:L,width:"big",children:Y&&Y.user&&Y.settings&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(y,{user:Y.user,loading:W||L,friendStatus:Y.friendStatus,haveMutualFriends:Y.haveMutualFriends,whoCanAddUser:Y.settings.friendRequests.whoCanAddMe,whoCanMessageUser:Y.settings.messaging.whoCanMessageMe,onSendFriendRequest:fe,onUnsendFriendRequest:me,onAcceptFriendRequest:xe,onDeclineFriendRequest:be,onUnfriend:ge}),(0,g.jsxs)(I.Z,{loading:L||W,activeLink:ce,onGetUserProfile:ve,onChangeActiveLink:Ze,children:["posts"===ce&&(0,g.jsx)(T.Z,{loading:m,posts:b,onCommentOnPost:C,onDeletePostComment:w,onLikePost:j,onUnlikePost:Z,onLikePostComment:k,onUnlikePostComment:P,hideLikingOption:"none"===Y.settings.commentingAndLiking.whoCanLikeMyPosts||"friends"===Y.settings.commentingAndLiking.whoCanLikeMyPosts&&"friends"!==Y.friendStatus||"friendsOfFriends"===Y.settings.commentingAndLiking.whoCanLikeMyPosts&&"friends"!==Y.friendStatus&&!Y.haveMutualFriends,hideCommentingOption:"none"===Y.settings.commentingAndLiking.whoCanCommentMyPosts||"friends"===Y.settings.commentingAndLiking.whoCanCommentMyPosts&&"friends"!==Y.friendStatus||"friendsOfFriends"===Y.settings.commentingAndLiking.whoCanCommentMyPosts&&"friends"!==Y.friendStatus&&!Y.haveMutualFriends}),"info"===ce&&!W&&!L&&(0,g.jsx)(B,{user:Y.user,isAuthUser:!1,profile:te}),"photos"===ce&&(0,g.jsx)(V,{user:{_id:Y.user._id,fullName:Y.user.fullName,profilePhotoUrl:Y.user.profilePhotoUrl},whoCanSeePhotos:Y.settings.profileAccess.whoCanSeeMyPhotos,friendStatus:Y.friendStatus,haveMutualFriends:Y.haveMutualFriends,hideLikingOption:"none"===Y.settings.commentingAndLiking.whoCanLikeMyPhotos||"friends"===Y.settings.commentingAndLiking.whoCanLikeMyPhotos&&"friends"!==Y.friendStatus||"friendsOfFriends"===Y.settings.commentingAndLiking.whoCanLikeMyPhotos&&"friends"!==Y.friendStatus&&!Y.haveMutualFriends,hideCommentingOption:"none"===Y.settings.commentingAndLiking.whoCanCommentMyPhotos||"friends"===Y.settings.commentingAndLiking.whoCanCommentMyPhotos&&"friends"!==Y.friendStatus||"friendsOfFriends"===Y.settings.commentingAndLiking.whoCanCommentMyPhotos&&"friends"!==Y.friendStatus&&!Y.haveMutualFriends}),"friends"===ce&&!W&&!L&&(0,g.jsx)(Q,{loading:L||W,userFriends:re})]})]})})]})}}}]);
//# sourceMappingURL=242.8f30ff49.chunk.js.map